[tox]
envlist =
    py39
    py310
    py311
    py312
    lint
    type

parallel = auto

[testenv]
deps =
    pytest>=8.3.3
    pytest-xdist>=3.3.1
commands =
    pytest -n auto


[testenv:lint]
description = Run linters and check formatting
skip_install = true
deps =
    flake8
    autopep8
commands =
    flake8 tests setup.py
    autopep8 --diff --exit-code --indent-size=2 --recursive tests setup.py

[testenv:type]
description = Run type checkers
deps =
    mypy
commands =
    mypy tests

[gh-actions]
python =
    3.8: py38
    3.9: py39
    3.10: py310
    3.11: py311
    3.12: py312

[flake8]
max-line-length = 88
extend-ignore = E203, W503
indent-size = 2

[autopep8]
max_line_length = 88
indent-size = 2
